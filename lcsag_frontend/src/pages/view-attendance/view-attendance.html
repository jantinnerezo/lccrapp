<!--
  Generated template for the Attendance page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
  	
    <ion-title> <ion-icon start name="paper"> </ion-icon> Attendance Reports </ion-title>
     <ion-buttons end >
     <button ion-button icon-left (click)="dismiss()" >
       <ion-icon name="close"> </ion-icon> 
      </button>
     
    </ion-buttons>

  </ion-navbar>

</ion-header>

<ion-content >
  
   <div class="current">
      
      
        <h5 ><ion-icon name="calendar" color="primary">  </ion-icon> Date: {{attendance_details.attendance_date}} </h5>
      

         <h5> <ion-icon name="clock" color="primary">  </ion-icon> Time: {{attendance_details.attendance_time}}  </h5>
       
    
   </div>
    
   <div class="status-div">
		<ion-row class="status-row">
			<ion-col> <ion-icon name="square" color="present"  > </ion-icon>  Present: {{present}} </ion-col>
			<ion-col> <ion-icon name="square" color="late"  >  </ion-icon> Late: {{late}} </ion-col>
			<ion-col> <ion-icon name="square" color="absent"  > </ion-icon> Absent: {{absent}}</ion-col>
		</ion-row>

	</div>

	<div [hidden]="no_connection == false" class="no_connection">
    <ion-list no-lines>
    <ion-item class="error-item" item-center >
     <button ion-button block clear icon-only color="errormsg" large> <ion-icon name="sad" color="errormsg" > </ion-icon> </button></ion-item> 
    <ion-item class="error-item">
      <h2 align="center" color='errormsg'> Unable to fetch reports </h2> 
       <p align="center" color='errormsg'> Make sure you are connected to LC network </p> </ion-item>
       <ion-item class="error-item"><button ion-button icon-left clear block >
      <ion-icon name="refresh"> Retry </ion-icon>
    </button></ion-item>
    </ion-list>
   
  </div>

   <div [hidden]="has_students == true || no_connection == true" class="no_connection">
    <ion-list no-lines>
    <ion-item class="error-item" item-center hidden >
     <button  ion-button block clear icon-only color="errormsg" large> <ion-icon name="sad" color="errormsg" > </ion-icon> </button></ion-item> 
   
        <ion-spinner name="crescent" color="primary"> </ion-spinner>
     <ion-item hidden class="error-item"><button ion-button icon-left clear block >
      <ion-icon name="refresh"> Retry </ion-icon>
    </button></ion-item>
    </ion-list>
   
  </div>


  <div [hidden]="no_connection == true || has_students == false" class="student-list">
 
    <ion-list >
   
   
      <button ion-item *ngFor="let student of students"  >
        <ion-avatar item-left>
          <img src="assets/img/avatar2.png">
        </ion-avatar>
        <h2>{{student.student_lastname}}, {{student.student_firstname}} </h2>
        <p>{{student.student_course}}</p>
       
       <ion-icon name="square" color="present" *ngIf="student.student_status == 1" item-right> </ion-icon>
       <ion-icon name="square" color="late" *ngIf="student.student_status == 2" item-right> </ion-icon>
       <ion-icon name="square" color="absent" *ngIf="student.student_status == 3" item-right> </ion-icon>
      
      </button>
     
    
  </ion-list>
 
      
</div>

</ion-content>


